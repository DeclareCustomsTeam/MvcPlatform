<link href="/js/Extjs42/resources/css/ext-all-gray.css" rel="stylesheet" type="text/css" />
<script src="/js/Extjs42/bootstrap.js" type="text/javascript"></script>

<script src="/js/pan.js" type="text/javascript"></script>
<script src="~/js/echart/echarts-all.js"></script>

<script type="text/javascript">
    var formpanel, gridpanel;
    var common_data_jydw = [], common_data_sbfs = [], common_data_sbgq = [], common_data_bgfs = [], common_data_bzzl = [], common_data_myfs = [];

    Ext.onReady(function () {
        Ext.Ajax.request({
            url: '/EnterpriseOrder/IniChart',
            method: "POST",
            success: function (response, option) {
                var json = Ext.decode(response.responseText);
                inichart(json.result);
            }
        });

    });
    function inichart(chartdata) {
        var xAxis = [];
        var seriesdata1 = [];
        var seriesdata2 = [];
        Ext.each(chartdata, function (item) {
            xAxis.push(item.date);
            seriesdata1.push(item.total);
            seriesdata2.push(item.submit);
        })
        var itemstyle = {
            normal: {
                label: {
                    show: true,
                    position: 'top'
                }
            }
        };
        var option = {
            title: {
                text: '企业委托任务统计表'
            },
            legend: {
                data: ['新建委托数', '已提交委托数']
            },
            xAxis: [
                {
                    type: 'category',
                    data: xAxis
                }
            ],
            yAxis: [
                {
                    type: 'value'
                }
            ],
            grid: {
            },
            series: [
                {
                    name: '新建委托数',
                    type: 'bar',
                    data: seriesdata1,
                    itemStyle: itemstyle
                },
                {
                    name: '已提交委托数',
                    type: 'bar',
                    data: seriesdata2,
                    itemStyle: itemstyle
                }
            ]
        };
        var myChart1 = echarts.init(document.getElementById("chart1"));
        myChart1.setOption(option);
    }
</script>

<div class="container">
    <div id="chart1" style="height:350px;"></div>
</div>

